--- 
id: 3107
name: Paso 3 - Datos del Grupo Familiar
label: Datos del Grupo Familiar
description: Datos del Grupo Familiar
fill_step_id: 1660
created_at: 2015-02-17 05:51:43 Z
updated_at: 2015-02-20 18:20:51 Z
include: "{\"4781\":{\"3448\":{\"2198\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"3812\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"3814\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"3813\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"3815\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"3848\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"3806\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"3809\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"3816\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"3462\":{\"2000\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"574\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"632\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"633\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"2217\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"585\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"594\":{\"views\":\"default\",\"enabled\":\"enabled\"}}},\"4782\":{\"3450\":{\"3856\":{\"views\":\"default\",\"enabled\":\"enabled\"}}}}"
allowed_next_to_steps: ""
allowed_back_to_steps: ""
controls: ,back,next,back_steps,next_steps,close,close_and_save,save
on_becoming: ""
on_transition: "# Calcular edad del conyugue #  RP\r\n\
  #\r\n\
  #\tfechadenac = form_data.get(\"datos_del_conyugue.datos_del_solicitante.fecha_de_nacimiento\")\r\n\
  #\tedad = ((Date.today - fechadenac.to_date).to_f / 365).to_i\r\n\
  #\tif (edad.to_i < 18.to_i)  \r\n\
  #\t\ttransition_errors << \"La edad del conyugue no debe ser menor a 18 a\xC3\xB1os de edad. Por favor, verifique\"\r\n\
  #\telse\r\n\
  #\t\tform_data.set(\"datos_del_conyugue.datos_del_solicitante.edad\",edad)\r\n\
  #\tend\r\n\
  #\r\n\
  #::: validar si la fecha ingresada es mayor a la actual - RP :::#\r\n\
  #\t\t \r\n\
  #\t\r\n\
  #\tfecha_nac = form_data.get(\"datos_del_conyugue.datos_del_solicitante.fecha_de_nacimiento\")\t\r\n\
  #\tform_data.set(\"datos_del_conyugue.datos_del_solicitante.edad\",\"\")\r\n\
  #\tif (fecha_nac.to_date > Date.today)\t\t\r\n\
  #\t\ttransition_errors << \"La fecha de nacimiento del conyugue no puede ser mayor a la fecha actual. Por favor, verifique.\"\r\n\
  #\tend\r\n\
  \r\n"
views: 
back_step: Paso 2 - Datos del Solicitante
next_step: Paso 4 - Datos del Servicio
position: 3
ajax_calls: |-
  // calculo de edad //
  //
  //$(document).ready(function(){
  
  
  //var Fnac = $("#field_datos_del_conyugue_datos_del_conyugue_fecha_de_nacimiento");
  //var Edad1 = $("#field_datos_del_conyugue_datos_del_conyugue_edad");
  
  //$(Fnac).change(function(){
  //var fecha1 = $(Fnac).val();
  //var values = fecha1.split("-");
  //var dia = values[0];
  //var mes = values[1];
  //var ano = values[2];
  
  //::: OBTENER LOS VALORES ACTUALES ::://
  //var fecha_hoy = new Date();
  //var ahora_ano = fecha_hoy.getYear();
  //var ahora_mes = fecha_hoy.getMonth();
  //var ahora_dia = fecha_hoy.getDate();
  //::: REALIZAR EL CALCULO ::://
  //var edad2 = (ahora_ano + 1900) - ano;
  //if ( ahora_mes < (mes - 1)){
  //edad2--;
  //}
  //if (((mes - 1) == ahora_mes) && (ahora_dia < dia)){
  //edad2--;
  //}
  //if (((mes) == ahora_mes) && (ahora_dia < dia)){
  //edad2--;
  //}
  //if (edad2 > 1900){
  //edad2 -= 1900;
  //}
  //$(Edad1).val(edad2);
  //});
  //});
  
  
  
  //###ocultar campos si no posee persona con discapacidad###
  
  //$(document).ready(function(){
  //$("#field_datos_del_grupo_familiar_familiar_con_discapacidad_posee_familiar_con_discapacidad").change(function(){
  //dato3 = $(this).val();
  //if(dato3 == 'SI'){
  //$('#field_datos_del_grupo_familiar_familiar_con_discapacidad_numero_identificacion').parent().parent().show();
  //$('#field_datos_del_grupo_familiar_familiar_con_discapacidad_tipo_de_discapacidad').parent().parent().show();
  //$('#field_datos_del_grupo_familiar_familiar_con_discapacidad_nombre_completo').parent().parent().show();
  //}else {
  //$('#field_datos_del_grupo_familiar_familiar_con_discapacidad_numero_identificacion').parent().parent().hide();
  //$('#field_datos_del_grupo_familiar_familiar_con_discapacidad_tipo_de_discapacidad').parent().parent().hide();
  //$('#field_datos_del_grupo_familiar_familiar_con_discapacidad_nombre_completo').parent().parent().hide();
  //$('#field_datos_del_grupo_familiar_familiar_con_discapacidad_numero_identificacion').val('');
  //$('#field_datos_del_grupo_familiar_familiar_con_discapacidad_tipo_de_discapacidad').val('');
  //$('#field_datos_del_grupo_familiar_familiar_con_discapacidad_nombre_completo').val('');
  
  //}
  //});
  //});
