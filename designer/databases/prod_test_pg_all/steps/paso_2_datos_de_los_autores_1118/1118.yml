--- 
id: 1118
name: Paso 2 -  Datos de los Autores
label: "Informaci\xC3\xB3n del Autor (es)"
description: ""
fill_step_id: 565
created_at: 2013-03-07 14:48:46 Z
updated_at: 2014-04-29 15:34:13 Z
include: "{\"2430\":{\"2617\":{\"2975\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2945\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2941\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2942\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2943\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2946\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2949\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"2948\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"3146\":{\"2951\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"3345\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2950\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2952\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"2618\":{\"2975\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2945\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2941\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2942\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2943\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2946\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2949\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"2948\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"3147\":{\"2951\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"3345\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2950\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2952\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"2619\":{\"2975\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2945\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2941\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2942\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2943\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2946\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2949\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"2948\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"3148\":{\"2951\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"3345\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2950\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"2952\":{\"views\":\"default\",\"enabled\":\"enabled\"}}}}"
allowed_next_to_steps: ""
allowed_back_to_steps: ""
controls: ,back,next,close,close_and_save,save
on_becoming: ""
on_transition: |
  #Usado para print design
  (1..5).each do |_num|
  
  primerNombre = form_data.get("datos_del_autor_es.director_instance_#{_num}.primer_nombre")
  primerapellido = form_data.get("datos_del_autor_es.director_instance_#{_num}.primer_apellido")
  segundoNombre = form_data.get("datos_del_autor_es.director_instance_#{_num}.segundo_nombre")
  segundoapellido = form_data.get("datos_del_autor_es.director_instance_#{_num}.segundo_apellido")
  apellidoCasada = form_data.get("datos_del_autor_es.director_instance_#{_num}.apellido_de_casada")
  
  _nombre =  "#{primerNombre} "+"#{segundoNombre} "+"#{primerapellido} "+"#{segundoapellido} "+"#{apellidoCasada}"
  form_data.set("datos_del_autor_es.director_instance_#{_num}.nombre_completo",_nombre)
  
  
  
  primerNombre1 = form_data.get("datos_del_autor_es.autor_guion_instance_#{_num}.primer_nombre")
  primerapellido1 = form_data.get("datos_del_autor_es.autor_guion_instance_#{_num}.primer_apellido")
  segundoNombre1 = form_data.get("datos_del_autor_es.autor_guion_instance_#{_num}.segundo_nombre")
  segundoapellido1 = form_data.get("datos_del_autor_es.autor_guion_instance_#{_num}.segundo_apellido")
  apellidoCasada1 = form_data.get("datos_del_autor_es.autor_guion_instance_#{_num}.apellido_de_casada")
  
  _nombre1 =  "#{primerNombre1} "+"#{segundoNombre1} "+"#{primerapellido1} "+"#{segundoapellido1} "+"#{apellidoCasada1}"
  form_data.set("datos_del_autor_es.autor_guion_instance_#{_num}.nombre_completo",_nombre1)
  
  
  
  primerNombre2 = form_data.get("datos_del_autor_es.autor_musica_instance_#{_num}.primer_nombre")
  primerapellido2 = form_data.get("datos_del_autor_es.autor_musica_instance_#{_num}.primer_apellido")
  segundoNombre2 = form_data.get("datos_del_autor_es.autor_musica_instance_#{_num}.segundo_nombre")
  segundoapellido2 = form_data.get("datos_del_autor_es.autor_musica_instance_#{_num}segundo_apellido")
  apellidoCasada2 = form_data.get("datos_del_autor_es.autor_musica_instance_#{_num}.apellido_de_casada")
  
  _nombre2 =  "#{primerNombre2} "+"#{segundoNombre2} "+"#{primerapellido2} "+"#{segundoapellido2} "+"#{apellidoCasada2}"
  form_data.set("datos_del_autor_es.autor_musica_instance_#{_num}.nombre_completo",_nombre2)
  
  end

views: 
back_step: Paso 1 - Llenar datos
next_step: Paso 3 - Llenar datos del Productor
position: 2
ajax_calls: |-
  $( function() {
  	
  		 $(document).ready(function(){
  
  			$.each( $('[id*=datos_del_autor_es_director_]'), function(index, campo) {
  		
  				var pos = (this.id).match(/_instance_[\d][\d]/);
  				if (pos == null){
  					pos = (this.id).match(/_instance_[\d]/);
  				}	
  	
  				var director = "#field_datos_del_autor_es_director";
  				var mod1 = director.concat(pos)
  	
  				var docs = "_tipo_de_documento";
  				var nom1 = "_primer_nombre";
  				var nom2 = "_segundo_nombre";
  				var ape1 = "_primer_apellido";
  				var ape2 = "_segundo_apellido";
  	
  				var documento_d = mod1.concat(docs);
  				var nombre1_d = mod1.concat(nom1)
  				var nombre2_d = mod1.concat(nom2)
  				var apellido1_d = mod1.concat(ape1)
  				var apellido2_d = mod1.concat(ape2)
  					
  						if($(documento_d).val() == 'Pasaporte'){
  							$(nombre1_d).removeAttr("disabled");
  							$(nombre2_d).removeAttr("disabled");
  							$(apellido1_d).removeAttr("disabled");
  							$(apellido2_d).removeAttr("disabled");
  						}
  			});
  
  			$.each( $('[id*=datos_del_autor_es_autor_guion_]'), function(index, campo) {
  		
  				var pos = (this.id).match(/_instance_[\d][\d]/);
  				if (pos == null){
  					pos = (this.id).match(/_instance_[\d]/);
  				}	
  	
  				var autor_g = "#field_datos_del_autor_es_autor_guion";
  				var mod2 = autor_g.concat(pos)
  	
  				var docs = "_tipo_de_documento";
  				var nom1 = "_primer_nombre";
  				var nom2 = "_segundo_nombre";
  				var ape1 = "_primer_apellido";
  				var ape2 = "_segundo_apellido";
  		
  	
  				var documento_g = mod2.concat(docs);
  				var nombre1_g = mod2.concat(nom1)
  				var nombre2_g = mod2.concat(nom2)
  				var apellido1_g = mod2.concat(ape1)
  				var apellido2_g = mod2.concat(ape2)
  				
  						if($(documento_g).val() == 'Pasaporte'){
  							$(nombre1_g).removeAttr("disabled");
  							$(nombre2_g).removeAttr("disabled");
  							$(apellido1_g).removeAttr("disabled");
  							$(apellido2_g).removeAttr("disabled");
  
  						}
  			});
  					
  			$.each( $('[id*=datos_del_autor_es_autor_musica_]'), function(index, campo) {
  		
  				var pos = (this.id).match(/_instance_[\d][\d]/);
  				if (pos == null){
  					pos = (this.id).match(/_instance_[\d]/);
  				}	
  	
  				var autor_m = "#field_datos_del_autor_es_autor_musica";
  				var mod3 = autor_m.concat(pos)
  	
  				var docs = "_tipo_de_documento";
  				var nom1 = "_primer_nombre";
  				var nom2 = "_segundo_nombre";
  				var ape1 = "_primer_apellido";
  				var ape2 = "_segundo_apellido";
  		
  	
  				var documento_m = mod3.concat(docs);
  				var nombre1_m = mod3.concat(nom1)
  				var nombre2_m = mod3.concat(nom2)
  				var apellido1_m = mod3.concat(ape1)
  				var apellido2_m = mod3.concat(ape2)
  				
  						if($(documento_m).val() == 'Pasaporte'){
  							$(nombre1_m).removeAttr("disabled");
  							$(nombre2_m).removeAttr("disabled");
  							$(apellido1_m).removeAttr("disabled");
  							$(apellido2_m).removeAttr("disabled");
  	
  						}
  			});					
  
  		});
  	});
  	
  	
  $(document).ready(function(){
  $.each( $('[id*=datos_del_autor_es_director_]'), function(index, campo) {
  		
  	var pos = (this.id).match(/_instance_[\d][\d]/);
  	if (pos == null){
  	  pos = (this.id).match(/_instance_[\d]/);
  	}
  	//alert(pos);
  	var mod1 = "#field_datos_del_autor_es_director";
  	var mod2 = "_tipo_de_documento";
   	var mod3 = mod1.concat(pos);
  	var dato = mod3.concat(mod2);
  
  		//alert(dato);
  
  	$(dato).parents(".part-box").next().hide()
  
    });
  
   $.each( $('[id*=datos_del_autor_es_autor_guion_]'), function(index, campo) {
  		
  	var pos = (this.id).match(/_instance_[\d][\d]/);
  	if (pos == null){
  	  pos = (this.id).match(/_instance_[\d]/);
  	}
  	//alert(pos);
  	var mod1 = "#field_datos_del_autor_es_autor_guion";
  	var mod2 = "_tipo_de_documento";
   	var mod3 = mod1.concat(pos);
  	var dato = mod3.concat(mod2);
  
  		//alert(dato);
  
  	$(dato).parents(".part-box").next().hide()
  
    });
  
    $.each( $('[id*=datos_del_autor_es_autor_musica_]'), function(index, campo) {
  		
  	var pos = (this.id).match(/_instance_[\d][\d]/);
  	if (pos == null){
  	  pos = (this.id).match(/_instance_[\d]/);
  	}
  	//alert(pos);
  	var mod1 = "#field_datos_del_autor_es_autor_musica";
  	var mod2 = "_tipo_de_documento";
   	var mod3 = mod1.concat(pos);
  	var dato = mod3.concat(mod2);
  
  		//alert(dato);
  
  	$(dato).parents(".part-box").next().hide()
  
    });
  
  
    ///////////////////////////////// Persona juridica /////////////////////////
    $.each( $('[id*=datos_del_autor_es_director_juridico_]'), function(index, campo) {
  		
  	var pos = (this.id).match(/_instance_[\d][\d]/);
  	if (pos == null){
  	  pos = (this.id).match(/_instance_[\d]/);
  	}
  	//alert(pos);
  	var mod1 = "#field_datos_del_autor_es_director_juridico";
  	var mod2 = "_ruc";
   	var mod3 = mod1.concat(pos);
  	var dato = mod3.concat(mod2);
  
  		//alert(dato);
  
  	$(dato).parents(".part-box").next().hide()
  
    });
  
   $.each( $('[id*=datos_del_autor_es_autor_guion_juridico_]'), function(index, campo) {
  		
  	var pos = (this.id).match(/_instance_[\d][\d]/);
  	if (pos == null){
  	  pos = (this.id).match(/_instance_[\d]/);
  	}
  	//alert(pos);
  	var mod1 = "#field_datos_del_autor_es_autor_guion_juridico";
  	var mod2 = "_ruc";
   	var mod3 = mod1.concat(pos);
  	var dato = mod3.concat(mod2);
  
  		//alert(dato);
  
  	$(dato).parents(".part-box").next().hide()
  
    });
  
    $.each( $('[id*=datos_del_autor_es_autor_musica_juridico_]'), function(index, campo) {
  		
  	var pos = (this.id).match(/_instance_[\d][\d]/);
  	if (pos == null){
  	  pos = (this.id).match(/_instance_[\d]/);
  	}
  	//alert(pos);
  	var mod1 = "#field_datos_del_autor_es_autor_musica_juridico";
  	var mod2 = "_ruc";
   	var mod3 = mod1.concat(pos);
  	var dato = mod3.concat(mod2);
  
  		//alert(dato);
  
  	$(dato).parents(".part-box").next().hide()
  
    });
  
  });
  
  ///////////////////Ocultar partes
  
  		$(document).ready(function(){
  							
  			$.each( $('[id*=datos_del_autor_es_director_]'), function(index, campo) {
  		
  				var pos = (this.id).match(/_instance_[\d][\d]/);
  				if (pos == null){
  					pos = (this.id).match(/_instance_[\d]/);
  				}	
  	
  				var director = "#field_datos_del_autor_es_director";
  				var mod1 = director.concat(pos)
  				var docs = "_tipo_de_documento";
  				var documento_d = mod1.concat(docs);
  
  						if($(documento_d).val()== ''){
  						
  							$(documento_d).parents(".part-box").hide()
  
  						}
  			});
  		
  
  			$.each( $('[id*=datos_del_autor_es_director_juridico_]'), function(index, campo) {
  		
  				var pos = (this.id).match(/_instance_[\d][\d]/);
  				if (pos == null){
  					pos = (this.id).match(/_instance_[\d]/);
  				}	
  				
  				var director = "#field_datos_del_autor_es_director_juridico";
  				var mod1 = director.concat(pos)
  	
  				var docs = "_ruc";
  				var documento_d = mod1.concat(docs);
  					
  						if($(documento_d).val() ==''){
  							$(documento_d).parents(".part-box").hide()
  						}
  			});
  		});
  		
  	//Ocultar Autores de guion
  	
  		$(document).ready(function(){
  							
  			$.each( $('[id*=datos_del_autor_es_autor_guion_]'), function(index, campo) {
  		
  				var pos = (this.id).match(/_instance_[\d][\d]/);
  				if (pos == null){
  					pos = (this.id).match(/_instance_[\d]/);
  				}	
  	
  				var guion = "#field_datos_del_autor_es_autor_guion";
  				var mod1 = guion.concat(pos)
  				var docs = "_tipo_de_documento";
  				var documento_d = mod1.concat(docs);
  
  						if($(documento_d).val()== ''){
  						
  							$(documento_d).parents(".part-box").hide()
  
  						}
  			});
  		
  
  			$.each( $('[id*=datos_del_autor_es_autor_guion_juridico_]'), function(index, campo) {
  		
  				var pos = (this.id).match(/_instance_[\d][\d]/);
  				if (pos == null){
  					pos = (this.id).match(/_instance_[\d]/);
  				}	
  				
  				var guion = "#field_datos_del_autor_es_autor_guion_juridico";
  				var mod1 = guion.concat(pos)
  	
  				var docs = "_ruc";
  				var documento_d = mod1.concat(docs);
  					
  						if($(documento_d).val() ==''){
  							$(documento_d).parents(".part-box").hide()
  						}
  			});
  		});
  		
  		
  	//Ocultar Autores de musica
  	
  		$(document).ready(function(){
  							
  			$.each( $('[id*=datos_del_autor_es_autor_musica_]'), function(index, campo) {
  		
  				var pos = (this.id).match(/_instance_[\d][\d]/);
  				if (pos == null){
  					pos = (this.id).match(/_instance_[\d]/);
  				}	
  	
  				var musica = "#field_datos_del_autor_es_autor_musica";
  				var mod1 = musica.concat(pos)
  				var docs = "_tipo_de_documento";
  				var documento_d = mod1.concat(docs);
  
  						if($(documento_d).val()== ''){
  						
  							$(documento_d).parents(".part-box").hide()
  
  						}
  			});
  		
  
  			$.each( $('[id*=datos_del_autor_es_autor_musica_juridico_]'), function(index, campo) {
  		
  				var pos = (this.id).match(/_instance_[\d][\d]/);
  				if (pos == null){
  					pos = (this.id).match(/_instance_[\d]/);
  				}	
  				
  				var musica = "#field_datos_del_autor_es_autor_musica_juridico";
  				var mod1 = musica.concat(pos)
  	
  				var docs = "_ruc";
  				var documento_d = mod1.concat(docs);
  					
  						if($(documento_d).val() ==''){
  							$(documento_d).parents(".part-box").hide()
  						}
  			});
  		});
