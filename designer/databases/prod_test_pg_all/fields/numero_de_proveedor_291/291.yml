--- 
id: 291
name: Numero de proveedor
description: "Campo para tramite Formulario de Incripci\xC3\xB3n o Modificaci\xC3\xB3n de Proveedores"
version: 
status: Draft
label: ""
hint: ""
help: ""
layout: 
helper: ""
controller_extension: ""
model_extension: ""
created_at: 2013-06-17 18:58:22 Z
updated_at: 2013-06-18 14:20:25 Z
values_list: ""
keys_list: ""
field_type: select
view_class: horizontal
java_script: ""
java_script_validation: ""
max_size: 
rows: 
min_value: 
max_value: 
char_set: ""
format: ""
kind_of_list: dynamic_values
list_code: |-
  _lista = ""
  if @owner["kind_of_user_type"] == "JuridicalPerson"
  	_id = @owner["tax_id"]
  	_t_id = "RUC"
  else
  	_id = @owner["national_id"].to_s
  	_t_id = "CIP"
  end
  result = WebserviceConsumer.get('/service/bdin_mef_gestionde_cobro/where.json?tipoIdentificacion='+ _t_id + '&identificacion='+_id).parsed_response
  _cods = result["response"]
  if !_cods.blank?
  	_cods.each{|response|
  	if !response.blank?
  		_lista = _lista + "," + response["CodProveedor"]
  	end
  	}
  	@values_of_list = _lista.split(",")
  	@keys_of_list =  _lista.split(",")
  else
  	@values_of_list = [""]
  	@keys_of_list =  [""]
  end
serial: 
