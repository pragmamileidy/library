--- 
id: 2985
section_id: 534
part_id: 536
name: Entidad 0
created_at: 2013-12-17 19:27:57 Z
updated_at: 2014-01-17 21:04:30 Z
label: ""
min_instances: 0
max_instances: 1
depends_on: "i = 0\r\n\
  _app_id = @application[\"id\"].to_s\r\n\
  result = WebserviceConsumer.get(\"/preconfigured_services/get_application_config.json?id=#{_app_id}\").parsed_response\r\n\
  entidades=[]\r\n\
  result[\"response\"][\"EntidadesEvaluadorasProceso4\"].each do |key, entidad_data|\r\n  next unless key =~ /entidades_instance/ \r\n  entidades << entidad_data[\"evaluacion_de_la_entidad\"]\r\n\
  end\r\n\
  \r\n\
  name_words = (@task[\"name\"].to_s.downcase).split(' ')\r\n\
  _siglas = name_words.last.upcase\r\n\
  _datoEvaluaciones = name_words[4].downcase\r\n\
  _datoObservaciones = name_words[2].downcase\r\n\
  _segunda = name_words[1].downcase\r\n\
  \r\n\
  seleccion = form_data.get(\"asignacion_de_entidades.entidad_evaluadora.entidad_evaluadora_municipio_check_p4\")\r\n\
  seleccion = JSON.parse(seleccion)\r\n\
  \r\n\
  entidad = entidades[i]\r\n\
  if ((@task[\"name\"] == 'Reparar Pagos'))\r\n    res = (form_data.get(\"entidad_evaluadora_revisiones_p4.entidad_#{i}.pagada\") != 'Si')\r\n\
  else    \r\n  res =   (entidad && (seleccion.include? entidad[\"entidad\"])) &&\r\n\
  \t\t\t(((entidad[\"siglas\"].upcase == _siglas) && \r\n\
  \t\t\t((['t\xC3\xA9cnica','tecnica'].include? _segunda) || \r\n\
  \t\t\t( _datoObservaciones == 'observaciones'))) || \r\n\
  \t\t\t( _segunda == 'pagos') ||\r\n\
  \t\t\t( ['introducir','cerrar'].include? name_words.first) ||\r\n\
  \t\t\t( _datoEvaluaciones == 'evaluaciones'))\r\n\
  end\r\n\
  res"
manage_as_confidential: false
include: 
hint: ""
help: ""
rows_names: ""
rows_labels: ""
view_class: ""
order_input: 1
