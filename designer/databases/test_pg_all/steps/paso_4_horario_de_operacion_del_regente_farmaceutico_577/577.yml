--- 
id: 577
name: Paso 4 - Horario de Operacion del regente Farmaceutico
label: "Horario de Operaci\xC3\xB3n del regente Farmac\xC3\xA9utico"
description: "<br>Horario de Operacion del regente Farmac\xC3\xA9utico</br>\r\n\
  \r\n\
  <style type=\"text/css\">\r\n\
  .panel-title {\r\n    padding-left: 6px;\r\n    margin-top: 0px;\r\n    margin-bottom: 0px;\r\n\
  }\r\n\
  .panel-controls2 {\r\n    float: right;\r\n    display: block;\r\n    cursor: pointer;\r\n\
  \tpadding-right: 10px;\r\n\
  }\r\n\
  .panel-controls2 > a {\r\n    padding-top: 1px;\r\n    display: inline-block;\r\n    opacity: 0.7;\r\n    width: 30px;\r\n    color: #999;\r\n    font-size: 14px;\r\n    font-weight: normal;\r\n    text-align: center;\r\n\
  \t -webkit-border-radius: 3;\r\n  -moz-border-radius: 3;\r\n  border-radius: 3px;\r\n  border:1px solid #999;\r\n margin-bottom:5px !important; \r\n    padding-left: 12px;\r\n\
  }\r\n\
  .full-screen-preview {\r\n    height: 100%;\r\n    padding: 0px;\r\n    margin: 0px;\r\n    overflow: hidden;\r\n\
  }\r\n\
  .panel-fullscreen {\r\n    display: block !important;\r\n    z-index: 9999 !important;\r\n    position: fixed !important;\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n    top: 0px !important;\r\n    right: 0px !important;\r\n    left: 0px !important;\r\n    bottom: 0px !important;\r\n\
  \tmargin:0px !important;\r\n\
  \tbackground:#FFF;\r\n\
  \toverflow:scroll !important;\r\n\
  }\r\n\
  \r\n\
  .only_view_label {\r\n\
  \tfont-size:12px; !importante\r\n\
  \t}\r\n\
  .part-box.colapsado{\r\n\
  \tbackground: #F3F3F3; !important;\r\n\
  \tborder:1px solid #E5E5E5;-moz-border-radius:6px;\r\n\
  \tborder-radius:6px;\r\n\
  \t//padding-top:0px;\r\n\
  \tpadding-bottom:10px;\r\n\
  \t}\r\n\
  .section-box.colapsado{\r\n\
  \tbackground: #FBFBFB; !important;\r\n\
  \tborder:2px dotted #999;\r\n\
  \t-moz-border-radius:6px;\r\n\
  \tborder-radius:6px;\r\n\
  \t//padding-top:0px;\r\n\
  \tpadding-bottom:10px;\r\n\
  }\r\n\
  .colapsado.error{\r\n\
  \tbackground:#FFF0F0;\r\n\
  }\r\n\
  .part-box .label2 .panel-title{\r\n\
  \twidth: 90%;\r\n    font-variant:normal;\r\n\
  \tfont-weight:bold;\r\n\
  \tfont-size: 1.45em;\r\n\
  \tpadding-left:10px;\r\n\
  \tpadding-bottom:10px;\r\n\
  \t\r\n\
  }\r\n\
  .section-box .label2 .panel-title{\r\n\
  \twidth: 90%;\r\n    font-variant:normal;\r\n\
  \tfont-weight:bold;\r\n\
  \tfont-size: 1.45em;\r\n\
  \tpadding-left:10px;\r\n\
  \tpadding-bottom:10px;\r\n\
  \t\r\n\
  }\r\n\
  a.nounderline:link   \r\n\
  {   \r\n text-decoration:none;   \r\n\
  }   \r\n\
  .btnE {\r\n  -webkit-border-radius: 3;\r\n  -moz-border-radius: 3;\r\n  border-radius: 3px;\r\n  border:1px solid #999;\r\n  font-family: Arial;\r\n  color: #ffffff;\r\n  font-size: 18px;\r\n  background: lightgray;\r\n  padding-left:7px;\r\n  padding-right:7px;\r\n  padding-top:0px;\r\n  padding-bottom:0px;\r\n  text-decoration: none; !important;\r\n \r\n\
  }\r\n\
  \r\n\
  .btnE:hover {\r\n  background: #afb4b8;\r\n  text-decoration: none;\r\n\
  }\r\n\
  /* controls */\r\n\
  .panel-controls {\r\n\
  }\r\n\
  \r\n\
  \r\n\
  .panel-control-collapse{\r\n\
  }\r\n\
  \r\n\
  </style>\r\n\
  <script type=\"text/javascript\">\r\n\
  $(document).ready(function(){\r\n\
  \t/**  VDIAZ **/\t\t\t\t\t\t   \r\n\
  \t/*   Aplica la  presentaci\xC3\xB3n de paneles colapsables para secciones y partes*/\r\n\
  \t/*   Gestion de */\r\n\
  \t/**  Version Betta**/\r\n\
  \t\r\n\
  \t// Indicar los ids de las secciones que se desean presentar expandidas\r\n\
  \tvar seccionArr = [\"recibido_por\"];\r\n\
  \r\n\
  \t// Indicar los ids de las partes que se desean presentar expandidas\r\n\
  \tvar parteArr = [\"datos_del_funcionario_generico\"];\r\n\
  \r\n\
  \t// Indicar SI o NO se desea presentar las secciones contraidas\r\n\
  \tvar seccionContraido = \"NO\";\r\n\
  \t\r\n\
  \t// Indicar SI o NO se desea presentar las partes contraidas\r\n\
  \tvar parteContraido = \"NO\";\r\n\
  \t\r\n\
  \t\r\n\
  \t//Inicia logica para aplicar el control de contraer/extender\r\n\
  \tvar labels = document.querySelectorAll(\".label\");\r\n\
  \t\r\n\
  \tfor(i=0; i<labels.length; i++){\r\n\
  \t\tvar l = labels[i].innerHTML;\r\n\
  \t\tvar c=labels[i].parentElement; \t\r\n\
  \t\tvar ocultar=\"\";\r\n\
  \t\tvar clase=\"\";\r\n\
  \t\tvar icono = \"<span class='ui-icon ui-icon-plusthick'></span>\";\t\t\r\n\
  \t\tvar newhtml =\"\";\t\r\n\
  \t\tvar obj = \"\";\r\n\
  \t\tvar arrobj=\"\";\r\n\
  \t\tif (c.className.trim().indexOf(\"section-box\") > -1){\r\n\
  \t\t\tobj = seccionContraido;\r\n\
  \t\t\tarrobj =  seccionArr;\r\n\
  \t\t}else{\r\n\
  \t\t\tobj = parteContraido;\r\n\
  \t\t\tarrobj =  parteArr;\r\n\
  \r\n\
  \t\t}\r\n\
  \t\tif ( obj == \"SI\"){\r\n\
  \t\t\t\ticono =  \"<span class='ui-icon ui-icon-plusthick'></span>\";\r\n\
  \t\t\t\tclase = \" colapsado\";\r\n\
  \t\t\t\tocultar = \"none\";\r\n\
  \t\t}else{\r\n\
  \t\t\t\ticono =\"<span class='ui-icon ui-icon-minusthick'></span>\";\r\n\
  \t\t\t\tclase = \"\";\r\n\
  \t\t\t\tocultar = \"\";\r\n\
  \t\t}\r\n\
  \t\tif (jQuery.inArray( c.id.trim(), arrobj ) != -1){\r\n\
  \t\t\t\ticono = \"<span class='ui-icon ui-icon-minusthick'></span>\";\r\n\
  \t\t\t\tclase = \"\";\r\n\
  \t\t\t\tocultar = \"\";\r\n\
  \t\t}\r\n\
  \t\t\r\n\
  \r\n\
  \t\tnewhtml = \"<span class='panel-title'>\"+\r\n\
  \t\tl+\"</span><span class='panel-controls2'> \"+\r\n\
  \t\t//\"<a href='#col\"+i+\"' class='panel-control-collapse btnE nounderline'>\"+icono+\"</a>\"+\r\n\
  \t\t\"<a href='#col\"+i+\"' class='panel-control-collapse'>\"+icono+\"</a>\"+\r\n\
  \t\t\"<a href='#col\"+i+\"' class='panel-control-fullscreen2 nounderline'><span class='ui-icon ui-icon-arrowthick-1-ne'></span></a>\"+\r\n\
  \t\t\"</span>\";\r\n\
  \t\tlabels[i].innerHTML = newhtml;\r\n\
  \t\tlabels[i].className = \"label2\";\r\n\
  \t\tlabels[i].nextSibling.style.display = ocultar;\r\n\
  \t\tlabels[i].parentElement.className += clase;\r\n\
  \t}\r\n\
  \r\n\
  \t/*  Expande o contrae el panel*/\r\n\
  \t$(\".panel-control-collapse\").click(function(){\r\n\
  \t\t\r\n\
  \t\tvar e = $(this);\r\n\
  \t\tif ( e.html().indexOf(\"ui-icon-minusthick\") > -1 ){\r\n\
  \t\t\tconsole.log(\"Validando error\");\r\n\
  \t\t\te.html(\"<span class='ui-icon ui-icon-plusthick'></span>\");\t\r\n\
  \t\t\te.parent().parent().next().hide();\r\n\
  \t\t\te.parent().parent().parent().addClass(\" colapsado\");\r\n\
  \t\t\t//console.log(\"Numero de errores: \" + e.parent().parent().parent().find( \".error\" ).length);\r\n\
  \t\t\tif (e.parent().parent().parent().find( \".field-errorx\" ).length > 0){\r\n\
  \t\t\t\te.parent().parent().parent().addClass(\" error\");\r\n\
  \t\t\t\t\r\n\
  \t\t\t}\r\n\
  \t\t}else{\r\n\
  \t\t\te.html(\"<span class='ui-icon ui-icon-minusthick'></span>\");\t\t\t\r\n\
  \t\t\te.parent().parent().next().show();\r\n\
  \t\t\te.parent().parent().parent().removeClass('colapsado');\r\n\
  \t\t\te.parent().parent().parent().removeClass('error');\r\n\
  \t\t}\r\n\
  \t\te.focus();\r\n\
  \t});\r\n\
  \t\r\n\
  \t//AQUI\r\n\
  \t/*  Maximiza o minimiza el panel*/\r\n\
  \t$(\".panel-control-fullscreen2\").click(function(){\t\t\r\n\
  \t\tvar e = $(this);\r\n\
  \t\tif ( e.html().indexOf(\"ui-icon-arrowthick-1-ne\") > -1 ){\r\n\
  \t\t\te.html(\"<span class='ui-icon ui-icon-arrowthick-1-sw'></span>\");\t\r\n\
  \t\t\t$('body').removeClass(\"full-screen-preview\");\r\n\
  \t\t\t$('body').addClass(\"full-screen-preview\");\r\n\
  \t\t\t$('.panel-fullscreen').removeClass(\"panel-fullscreen\");\t\t\t\r\n\
  \t\t\te.parent().parent().parent().addClass(\"panel-fullscreen\");\r\n\
  \t\t}else{\t\r\n\
  \t\t\t$('body').removeClass(\"full-screen-preview\");\r\n\
  \t\t\t$('.panel-fullscreen').removeClass(\"panel-fullscreen\");\r\n\
  \t\t\t$('.ui-icon-arrowthick-1-sw').removeClass(\"ui-icon-arrowthick-1-sw\").addClass(\"icon-arrowthick-1-ne\");\r\n\
  \t\t\te.html(\"<span class='ui-icon ui-icon-arrowthick-1-ne'></span>\");\r\n\
  \t\t}\r\n\
  \t\te.focus();\r\n\
  \t});\r\n\
  \r\n\
  \t/*  Expande los paneles cuando se realiza el submit esto es porque  s\xC3\xB3lo se validan los campos no ocultos*/\r\n\
  \t$('input[value=\"Guardar y Cerrar\"],input[value=\"Guardar\"],input[value=\"Enviar Formulario\"],input[value=\"Pr\xC3\xB3ximo\"],input[value=\"Anterior\"]').click(function(){\r\n\
  \t    console.log('Guardar y Cerrar');\t\r\n\
  \t\t$( \".colapsado, .section-box\" ).children( \".section-body\" ).show();\r\n\
  \t\t$( \".colapsado, .part-box\" ).children( \".part-body\" ).show();\r\n\
  \t\t$( \".colapsado, .part-box\" ).removeClass('colapsado');\r\n\
  \t\t$( \".colapsado, .part-box\" ).removeClass('error');\r\n\
  \t\t$( \".colapsado, .section-box\" ).removeClass('error');\r\n\
  \t\t$( \".panel-control-collapse.nounderline\").html(\"<span class='ui-icon ui-icon-minusthick'></span>\"); \r\n \t    console.log('Guardar y Cerrar');\t\r\n\
  \t});\r\n\
  \t\r\n\
  });\r\n\
  </script>"
fill_step_id: 220
created_at: 2012-06-14 19:30:49 Z
updated_at: 2015-11-06 20:50:25 Z
include: "{\"1011\":{\"1435\":{\"2147\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"2146\":{\"views\":\"default\",\"enabled\":\"disabled\"},\"3429\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"1436\":{\"508\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"509\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"1437\":{\"508\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"509\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"2051\":{\"508\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"509\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"1438\":{\"2005\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"2052\":{\"2148\":{\"views\":\"default\",\"enabled\":\"enabled\"},\"2149\":{\"views\":\"default\",\"enabled\":\"enabled\"}}},\"2963\":{\"2860\":{\"3374\":{\"views\":\"default\",\"enabled\":\"enabled\"}}},\"3057\":{\"2862\":{\"3377\":{\"views\":\"default\",\"enabled\":\"enabled\"}},\"2863\":{\"3378\":{\"views\":\"default\",\"enabled\":\"enabled\"}}}}"
allowed_next_to_steps: ""
allowed_back_to_steps: ""
controls: ,back,next,close,close_and_save,save
on_becoming: ""
on_transition: "# Obtener valor del config\r\n                valor = @config.route(\"Rates-payment-payment-payment\")\r\n                \r\n                if valor == \"Electr\xC3\xB3nico\"\r\n                \r\n                        form_data.set(\"forma_de_pago.forma_de_pago.indique_la_forma_de_pago\", \"Pago Electr\xC3\xB3nico\")\r\n                \r\n                end\r\n                if valor == \"Manual\"\r\n                \r\n                        form_data.set(\"forma_de_pago.forma_de_pago.indique_la_forma_de_pago\", \"Pago Manual\")\r\n                \r\n                end\r\n\
  \t\t\t\t\r\n\
  ############LP Dependencia de horarios\r\n\
  \r\n\
  \thora1 = form_data.get(\"datos_del_regente.sabados.hora_de_apertura\")\r\n\
  \thora2 = form_data.get(\"datos_del_regente.sabados.hora_de_cierre\")\r\n\
  \thora3 = form_data.get(\"datos_del_regente.domingos.hora_de_apertura\")\r\n\
  \thora4 = form_data.get(\"datos_del_regente.domingos.hora_de_cierre\")\r\n\
  \thora5 = form_data.get(\"datos_del_regente.feriados.hora_de_apertura\")\r\n\
  \thora6 = form_data.get(\"datos_del_regente.feriados.hora_de_cierre\")\r\n\
  \r\n\
  \tif (Time.parse(hora1) > Time.parse(hora2))\r\n\
  \t\ttransition_errors <<  \"Verifique la hora de apertura del horario del S\xC3\xA1bado. No puede ser mayor a la hora de cierre\"\r\n\
  \tend\r\n\
  \t\r\n\
  \tif (Time.parse(hora3) > Time.parse(hora4))\r\n\
  \t\ttransition_errors <<  \"Verifique la hora de apertura del horario del Domingo. No puede ser mayor a la hora de cierre\"\r\n\
  \tend\r\n\
  \t\r\n\
  \tif (Time.parse(hora5) > Time.parse(hora6))\r\n\
  \t\ttransition_errors <<  \"Verifique la hora de apertura de los d\xC3\xADas Feriados. No puede ser mayor a la hora de cierre\"\r\n\
  \tend"
views: 
back_step: Paso 3 - Datos de Regente Farmaceutico
next_step: Paso 5 - Adjuntar Archivos
position: 4
ajax_calls: "$( function() {\r\n     $(document).ready(function(){\r\n       $(\"input[name='[field][datos_del_regente_lunes_a_viernes_horario_de_regencia_lunes_a_viernes_y_otro][]']\").click(function(event){\r\n      //alert($(\"input[name='[field][datos_del_regente_lunes_a_viernes_horario_de_regencia_lunes_a_viernes_y_otro][]']:checked\").val());\r\n      $(this).each(function(){\r\n        if (this.checked) {\r\n          var dato = $(this).val();\r\n          \r\n          if(dato == 'Otro'){\r\n              $(\"#field_datos_del_regente_lunes_a_viernes_otro\").removeAttr(\"disabled\");\r\n          }\r\n              else{\r\n            $(\"#field_datos_del_regente_lunes_a_viernes_otro\").val('');\r\n            $(\"#field_datos_del_regente_lunes_a_viernes_otro\").attr(\"disabled\",\"disabled\");\r\n          }\r\n        }\r\n      });   \r\n       });             \r\n    });\r\n  });\r\n\
  \r\n\
  \r\n\
  $( function() {\r\n    $( \"input:radio\" ).click(function() {\r\n      check2(this);\r\n    });\r\n\
  } );\r\n\
  \r\n\
  \r\n\
  function check2(obj) {\r\n    if (obj.value == \"S\xC3\x8D\" && obj.name==\"[field][datos_del_regente_trabaja_en_otra_empresa_trabaja_en_otra_empresa]\"){\r\n      $(\"#field_datos_del_regente_trabaja_en_otra_empresa_empresa\").parent().parent().show();\r\n    } else{\r\n      $(\"#field_datos_del_regente_trabaja_en_otra_empresa_empresa\").val('');\r\n      $(\"#field_datos_del_regente_trabaja_en_otra_empresa_empresa\").parent().parent().hide();           \r\n    }\r\n\
  }\r\n\
  \r\n\
  \r\n\
  \r\n\
  $(document).ready(function(){\r\n\
  \r\n    //PARA SETEAR LA HORA SIN LA PALABRA \"OTRO\" EN EL CAMPO OCULTO QUE SE MOSTRARA SOLO EN EL PDF\r\n    $(\"input[name='[field][datos_del_regente_lunes_a_viernes_horario_de_regencia_lunes_a_viernes_y_otro][]']\").click(function(event){\r\n            \r\n            $(this).each(function(){\r\n                if (this.checked) {\r\n                    var dato = $(this).val();\r\n                    \r\n                    if(dato != 'Otro'){\r\n                        $(\"#field_datos_del_regente_lunes_a_viernes_confirma\").val(dato)\r\n                        $(\"#field_datos_del_regente_lunes_a_viernes_otro\").val(\"\")\r\n                    }\r\n                }\r\n\
  \r\n\
  \r\n                if (!this.checked) {\r\n                    var dato = $(this).val();\r\n\
  \r\n                    if(dato != 'Otro'){\r\n                        $(\"#field_datos_del_regente_lunes_a_viernes_confirma\").val(\"\");\r\n                    }\r\n                }\r\n                                \r\n            });\r\n        });\r\n    //FIN\r\n\
  \r\n\
  \r\n    $(\"input[name='[field][datos_del_regente_lunes_a_viernes_horario_de_regencia_lunes_a_viernes_y_otro][]']\").click(function(event){\r\n            \r\n            $(this).each(function(){\r\n\
  \r\n              if (this.checked) {\r\n                    var dato = $(this).val();\r\n\
  \r\n                    if(dato == 'Otro'){\r\n                        $(\"#field_datos_del_regente_lunes_a_viernes_otro\").removeAttr(\"disabled\");\r\n                    }\r\n                }\r\n\
  \r\n                if (!this.checked) {\r\n                    var dato = $(this).val();\r\n\
  \r\n                    if(dato == 'Otro'){\r\n                        $(\"#field_datos_del_regente_lunes_a_viernes_otro\").val(\"\");\r\n                        $(\"#field_datos_del_regente_lunes_a_viernes_otro\").attr(\"disabled\",\"disabled\");\r\n                    }\r\n                }\r\n                                \r\n            });\r\n        });\r\n\
  \r\n\
  \r\n\
  \r\n   });\r\n\
  \r\n\
  \r\n\
  $(document).ready(function(){\r\n\
  \r\n  //PARA MANTENER LA SELECCION ENTRE LOS CAMPOS \r\n  if ($('input[name=\"[field][datos_del_regente_trabaja_en_otra_empresa_trabaja_en_otra_empresa]\"]:checked').val() == \"S\xC3\x8D\"){\r\n    $(\"#field_datos_del_regente_trabaja_en_otra_empresa_empresa\").parent().parent().show();\r\n  } else{ \r\n    $(\"#field_datos_del_regente_trabaja_en_otra_empresa_empresa\").val('');\r\n    $(\"#field_datos_del_regente_trabaja_en_otra_empresa_empresa\").parent().parent().hide();           \r\n  }\r\n\
  \r\n\
  \r\n\
  \r\n\
  \r\n  //OCULTO ESTE CAMPO, SOLO SE USA PARA SETEAR VALOR QUE SE VER\xC3\x81 EN EL PDF\r\n    $(\"#field_datos_del_regente_lunes_a_viernes_confirma\").parent().parent().hide();\r\n\
  \r\n\
  \r\n  // CAMPO OCULTO PARA SETEAR  LA HORA SIN LA PALABRA \"OTRO\" EN CASO DE HABER SELECCIONADO LA OPCI\xC3\x93N \"OTRO\" ADEM\xC3\x81S DE LA HORA PREESTABLECIDAS. ESTO CON LA FINALIDAD DE ELIMINAR LA PALABRA \"OTRO\" EN EL PDF (PARA Q SE VEA ELEGANTE)\r\n    \r\n    if($('input[name=\"[field][datos_del_regente_lunes_a_viernes_horario_de_regencia_lunes_a_viernes_y_otro]\"]:checked').val() != \"Otro\"){\r\n\
  \r\n      var lunesViernes = $('input[name=\"[field][datos_del_regente_lunes_a_viernes_horario_de_regencia_lunes_a_viernes_y_otro]\"]:checked').val()\r\n        $(\"#field_datos_del_regente_lunes_a_viernes_confirma\").val(lunesViernes);\r\n    }else{\r\n        $(\"#field_datos_del_regente_lunes_a_viernes_confirma\").val(\"\");\r\n    }\r\n\
  \r\n\
  \r\n\
  \r\n  });"
